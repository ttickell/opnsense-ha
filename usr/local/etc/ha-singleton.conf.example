#!/bin/sh
# OPNsense HA Singleton Configuration File
# Universal configuration that works for any number of WAN interfaces
# This file should be copied to /usr/local/etc/ha-singleton.conf and customized

# WAN Interfaces to manage (space-delimited)
# Examples: 
#   Single WAN: "vtnet0_vlan110"
#   Dual WAN:   "vtnet1 vtnet2"  
#   Multi WAN:  "vtnet1 vtnet2 vtnet3"
WAN_INTS="vtnet1 vtnet2"

# WAN Interface Mapping (OPNsense interface name to device name)
# Format: "opnsense_name:device_name opnsense_name2:device_name2"
# This mapping is used for configctl interface reconfigure/newip commands
# Examples:
#   Single WAN: "wan:vtnet0_vlan110"
#   Dual WAN:   "wan:vtnet1 wan2:vtnet2"
#   Multi WAN:  "wan:vtnet1 wan2:vtnet2 wan3:vtnet3"
WAN_INTERFACE_MAP="wan:vtnet1 wan2:vtnet2"

# Services to manage based on CARP status
SERVICES="rtsold dhcp6c radvd"

# Alternate default routes (for BACKUP state)
# When this firewall is BACKUP, it routes through the OTHER firewall's LAN IP
# 
# Example for Primary Firewall (192.168.51.2):
#   ALT_DEFROUTE_IPV4="192.168.51.3"    # Secondary firewall's LAN IP
#   ALT_DEFROUTE_IPV6="fd03:17ac:e938:1f00::3"
#
# Example for Secondary Firewall (192.168.51.3):
#   ALT_DEFROUTE_IPV4="192.168.51.2"    # Primary firewall's LAN IP  
#   ALT_DEFROUTE_IPV6="fd03:17ac:e938:1f00::2"
#
# IMPORTANT: Update these to match your network configuration
ALT_DEFROUTE_IPV4="192.168.51.3"       # Other firewall's LAN IP (UPDATE THIS)
ALT_DEFROUTE_IPV6="fd03:17ac:e938:1f00::3"  # Other firewall's IPv6 LAN IP (UPDATE THIS)

# Feature toggles
ENABLE_IPV6="yes"                    # Enable IPv6 management
ENABLE_SERVICE_MANAGEMENT="yes"      # Enable service start/stop
ENABLE_ROUTE_MANAGEMENT="yes"        # Enable backup route management
ENABLE_INTERFACE_RECONFIGURE="yes"   # Enable interface reconfiguration for DHCP renewal
DEBUG="no"                          # Enable debug logging

# IPv6 Integration settings
IPV6_SCRIPT_PATH="/usr/local/bin"    # Path to IPv6 management scripts
SYNC_IPV6_STATE="yes"               # Sync IPv6 state between nodes

# Advanced settings
INTERFACE_SETTLE_TIME="2"           # Seconds to wait after interface changes
SERVICE_STARTUP_DELAY="1"           # Seconds between service starts
HEALTH_CHECK_ENABLED="yes"          # Enable health checking